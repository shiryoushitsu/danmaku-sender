(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59855fa8"],{"1dde":function(e,t,r){var o=r("d039"),n=r("b622"),a=r("2d00"),l=n("species");e.exports=function(e){return a>=51||!o((function(){var t=[],r=t.constructor={};return r[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"3a46":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticStyle:{"margin-left":"auto","margin-right":"auto","margin-top":"22px","background-color":"rgb(248, 250, 251)"},attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-card",{staticStyle:{width:"600px",float:"right","min-height":"600px"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"账号缓存值1",prop:"cookie","label-width":"100px"}},[r("el-input",{attrs:{placeholder:"SESSDATA，相当于发送的弹幕的账号"},model:{value:e.form.cookie,callback:function(t){e.$set(e.form,"cookie",t)},expression:"form.cookie"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"视频BV号",prop:"bvid","label-width":"100px"}},[r("el-input",{attrs:{placeholder:"请输入视频BV号",maxlength:"30"},model:{value:e.form.bvid,callback:function(t){e.$set(e.form,"bvid",t)},expression:"form.bvid"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"账号缓存值2",prop:"csrf","label-width":"100px"}},[r("el-input",{attrs:{placeholder:"bili_jct，用于发送接口账号校验"},model:{value:e.form.csrf,callback:function(t){e.$set(e.form,"csrf",t)},expression:"form.csrf"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"分P号",prop:"part","label-width":"100px"}},[r("el-input",{attrs:{placeholder:"默认1，分p时需填要发送弹幕所在的分p号"},model:{value:e.form.part,callback:function(t){e.$set(e.form,"part",t)},expression:"form.part"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"发送模式",prop:"sendMode","label-width":"100px"}},[r("el-select",{attrs:{placeholder:"请选择发送模式"},model:{value:e.form.sendMode,callback:function(t){e.$set(e.form,"sendMode",t)},expression:"form.sendMode"}},[r("el-option",{attrs:{label:"测试发送弹幕(发送前3条)",value:"0"}}),r("el-option",{attrs:{label:"正式发送弹幕",value:"1"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"弹幕池",prop:"pool","label-width":"100px"}},[r("el-select",{attrs:{placeholder:"请选择弹幕池"},model:{value:e.form.pool,callback:function(t){e.$set(e.form,"pool",t)},expression:"form.pool"}},[r("el-option",{attrs:{label:"普通池",value:"0"}}),r("el-option",{attrs:{label:"字幕池",value:"1"}}),r("el-option",{attrs:{label:"特殊池",value:"2"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}})],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{size:"middle",label:"上传xml文件","label-width":"100px"}},[r("input",{attrs:{name:"file",type:"file"},on:{change:function(t){return e.addFile(t,1)}}})])],1),r("el-col",{attrs:{span:12}})],1),r("el-collapse",{staticStyle:{display:"none"}},[r("el-collapse-item",{attrs:{title:"更多配置",name:"1"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"字号",prop:"fontSize","label-width":"100px"}},[r("el-select",{attrs:{placeholder:"请选择字号"},model:{value:e.form.fontSize,callback:function(t){e.$set(e.form,"fontSize",t)},expression:"form.fontSize"}},[r("el-option",{attrs:{label:"小字号（18）",value:"18"}}),r("el-option",{attrs:{label:"标准字号（25）",value:"25"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"发送间隔",prop:"sendInterval","label-width":"100px"}},[r("el-input",{attrs:{placeholder:"发送弹幕间隔时间",maxlength:"30"},model:{value:e.form.sendInterval,callback:function(t){e.$set(e.form,"sendInterval",t)},expression:"form.sendInterval"}},[r("template",{slot:"append"},[e._v("秒")])],2)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"颜色",prop:"color","label-width":"100px"}},[r("el-input",{attrs:{placeholder:"",maxlength:"30"},model:{value:e.form.color,callback:function(t){e.$set(e.form,"color",t)},expression:"form.color"}})],1)],1),r("el-col",{attrs:{span:2}},[r("el-color-picker",{staticStyle:{float:"right"},model:{value:e.hexColor,callback:function(t){e.hexColor=t},expression:"hexColor"}})],1)],1),r("el-col",{attrs:{span:12}})],1)],1)],1),r("el-row",{staticStyle:{"margin-top":"22px"}},[r("el-col",{attrs:{span:5}},[r("el-button",{on:{click:function(t){return e.submitForm("preview")}}},[e._v("预览信息")])],1),r("el-col",{attrs:{span:5}},[r("el-button",{on:{click:function(t){return e.submitForm("send")}}},[e._v("发送弹幕")])],1),r("el-col",{attrs:{span:5}},[r("el-button",{on:{click:function(t){return e.stopSendDanmaku()}}},[e._v("停止发送")])],1)],1)],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-card",{staticStyle:{width:"600px",float:"left","min-height":"600px"}},[r("span"),r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"发送日志显示区域",autosize:{minRows:26,maxRows:26}},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1)],1)],1)],1)},n=[],a=(r("fb6a"),r("b0c0"),r("4328"),{name:"Home",components:{},computed:{hexColor:{get:function(){return!this.form.color.indexOf("#")>=0?"#"+this.form.color:this.form.color},set:function(e){null!=e&&(this.form.color=e.slice(1))}}},created:function(){this.getConfig()},data:function(){return{value1:"",form:{cookie:null,csrf:null,bvid:null,part:"1",fontSize:"25",color:"FFFFFF",pool:"0",sendPrefix:null,sendSuffix:null,sendFirstDmTime:"",sendFirstDmOffset:null,sendInterval:"10",sendMode:"1",sendStartDmRow:"1",sendPreview:"1"},textarea:"",txtFile:null,requestId:"",timerStatus:0,timer:null}},methods:{submitForm:function(e){var t=this;this.textarea="";var r=new FormData;for(var o in r.append("file",this.txtFile),this.form)null!=this.form[o]&&r.append(o,this.form[o]);"preview"==e&&r.set("sendMode",-1),this.createCode(),r.append("requestId",this.requestId);var n={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}};this.axios.post("/danmaku/sendDanmakuXml",r,n).then((function(e){200==e.data.code&&(t.textarea=e.data.data.txtLog,console.log(t.textarea),t.stopSetInterval(),t.timerStatus=0)})).catch((function(e){this.stopSetInterval(),console.log(this.timer),console.log(e)})),console.log("创建获取弹幕日志轮询接口"),this.createSetInterval()},getFileLog:function(){var e=this,t=new FormData;t.append("fileName",this.txtFile.name),t.append("requestId",this.requestId);var r={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}};this.axios.post("/danmaku/getFileLog",t,r).then((function(t){200==t.data.code&&(e.textarea=t.data.data.txtLog)})).catch((function(e){this.stopSetInterval(),console.log(e)}))},stopSendDanmaku:function(){var e=this;if(""!=this.requestId){var t=new FormData;t.append("fileName",this.txtFile.name),t.append("requestId",this.requestId);var r={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}};this.axios.post("/danmaku/stopSendDanmaku",t,r).then((function(t){200==t.data.code&&(e.textarea=t.data.data.txtLog)})).catch((function(e){this.stopSetInterval(),console.log(e)}))}},createSetInterval:function(){this.stopSetInterval();var e=this;this.timer=setInterval((function(){e.getFileLog()}),5e3)},stopSetInterval:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},getConfig:function(){var e=this;this.axios.get("/danmaku/getConfig").then((function(t){200==t.data.code&&(e.form.cookie=t.data.data.cookie,e.form.csrf=t.data.data.csrf,console.log(t.data))})).catch((function(e){console.log(e)}))},createCode:function(){for(var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t=4,r="",o=0;o<t;o++){var n=Math.floor(26*Math.random());r+=e[n]}var a=(new Date).getHours()<10?"0"+(new Date).getHours():(new Date).getHours(),l=(new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes();r=""+a+l+r,this.requestId=r,console.log(this.requestId)},addFile:function(e,t){var r=e.target.files[0];this.txtFile=r;var o=new FormData;o.append("file",r,r.name)},handleChangeLi:function(e,t){console.log(e),console.log(t),this.fileListAdd=t},handlePictureCardPreview:function(e){console.log(e)}},destroyed:function(){this.stopSetInterval()}}),l=a,i=r("2877"),s=Object(i["a"])(l,o,n,!1,null,"4bef2c3f",null);t["default"]=s.exports},4127:function(e,t,r){"use strict";var o=r("d233"),n=r("b313"),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Date.prototype.toISOString,i={delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(t,r,n,a,l,s,c,f,p,u,d,m){var h=t;if("function"===typeof c)h=c(r,h);else if(h instanceof Date)h=u(h);else if(null===h){if(a)return s&&!m?s(r,i.encoder):r;h=""}if("string"===typeof h||"number"===typeof h||"boolean"===typeof h||o.isBuffer(h)){if(s){var b=m?r:s(r,i.encoder);return[d(b)+"="+d(s(h,i.encoder))]}return[d(r)+"="+d(String(h))]}var y,v=[];if("undefined"===typeof h)return v;if(Array.isArray(c))y=c;else{var g=Object.keys(h);y=f?g.sort(f):g}for(var x=0;x<y.length;++x){var w=y[x];l&&null===h[w]||(v=Array.isArray(h)?v.concat(e(h[w],n(r,w),n,a,l,s,c,f,p,u,d,m)):v.concat(e(h[w],r+(p?"."+w:"["+w+"]"),n,a,l,s,c,f,p,u,d,m)))}return v};e.exports=function(e,t){var r=e,l=t?o.assign({},t):{};if(null!==l.encoder&&void 0!==l.encoder&&"function"!==typeof l.encoder)throw new TypeError("Encoder has to be a function.");var c="undefined"===typeof l.delimiter?i.delimiter:l.delimiter,f="boolean"===typeof l.strictNullHandling?l.strictNullHandling:i.strictNullHandling,p="boolean"===typeof l.skipNulls?l.skipNulls:i.skipNulls,u="boolean"===typeof l.encode?l.encode:i.encode,d="function"===typeof l.encoder?l.encoder:i.encoder,m="function"===typeof l.sort?l.sort:null,h="undefined"!==typeof l.allowDots&&l.allowDots,b="function"===typeof l.serializeDate?l.serializeDate:i.serializeDate,y="boolean"===typeof l.encodeValuesOnly?l.encodeValuesOnly:i.encodeValuesOnly;if("undefined"===typeof l.format)l.format=n["default"];else if(!Object.prototype.hasOwnProperty.call(n.formatters,l.format))throw new TypeError("Unknown format option provided.");var v,g,x=n.formatters[l.format];"function"===typeof l.filter?(g=l.filter,r=g("",r)):Array.isArray(l.filter)&&(g=l.filter,v=g);var w,k=[];if("object"!==typeof r||null===r)return"";w=l.arrayFormat in a?l.arrayFormat:"indices"in l?l.indices?"indices":"repeat":"indices";var j=a[w];v||(v=Object.keys(r)),m&&v.sort(m);for(var O=0;O<v.length;++O){var S=v[O];p&&null===r[S]||(k=k.concat(s(r[S],S,j,f,p,u?d:null,g,m,h,b,x,y)))}var A=k.join(c),F=!0===l.addQueryPrefix?"?":"";return A.length>0?F+A:""}},4328:function(e,t,r){"use strict";var o=r("4127"),n=r("9e6a"),a=r("b313");e.exports={formats:a,parse:n,stringify:o}},8418:function(e,t,r){"use strict";var o=r("a04b"),n=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var l=o(t);l in e?n.f(e,l,a(0,r)):e[l]=r}},"9e6a":function(e,t,r){"use strict";var o=r("d233"),n=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},l=function(e,t){for(var r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,i=o.split(t.delimiter,l),s=0;s<i.length;++s){var c,f,p=i[s],u=p.indexOf("]="),d=-1===u?p.indexOf("="):u+1;-1===d?(c=t.decoder(p,a.decoder),f=t.strictNullHandling?null:""):(c=t.decoder(p.slice(0,d),a.decoder),f=t.decoder(p.slice(d+1),a.decoder)),n.call(r,c)?r[c]=[].concat(r[c]).concat(f):r[c]=f}return r},i=function(e,t,r){for(var o=t,n=e.length-1;n>=0;--n){var a,l=e[n];if("[]"===l)a=[],a=a.concat(o);else{a=r.plainObjects?Object.create(null):{};var i="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,s=parseInt(i,10);!isNaN(s)&&l!==i&&String(s)===i&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(a=[],a[s]=o):a[i]=o}o=a}return o},s=function(e,t,r){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=a.exec(o),c=s?o.slice(0,s.index):o,f=[];if(c){if(!r.plainObjects&&n.call(Object.prototype,c)&&!r.allowPrototypes)return;f.push(c)}var p=0;while(null!==(s=l.exec(o))&&p<r.depth){if(p+=1,!r.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(s[1])}return s&&f.push("["+o.slice(s.index)+"]"),i(f,t,r)}};e.exports=function(e,t){var r=t?o.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||o.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"===typeof r.depth?r.depth:a.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:a.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var n="string"===typeof e?l(e,r):e,i=r.plainObjects?Object.create(null):{},c=Object.keys(n),f=0;f<c.length;++f){var p=c[f],u=s(p,n[p],r);i=o.merge(i,u,r)}return o.compact(i)}},b0c0:function(e,t,r){var o=r("83ab"),n=r("5e77").EXISTS,a=r("9bf2").f,l=Function.prototype,i=l.toString,s=/^\s*function ([^ (]*)/,c="name";o&&!n&&a(l,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},b313:function(e,t,r){"use strict";var o=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d233:function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){var t;while(e.length){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var o=[],n=0;n<t.length;++n)"undefined"!==typeof t[n]&&o.push(t[n]);r.obj[r.prop]=o}}return t},l=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)"undefined"!==typeof e[o]&&(r[o]=e[o]);return r},i=function e(t,r,n){if(!r)return t;if("object"!==typeof r){if(Array.isArray(t))t.push(r);else{if("object"!==typeof t)return[t,r];(n.plainObjects||n.allowPrototypes||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!==typeof t)return[t].concat(r);var a=t;return Array.isArray(t)&&!Array.isArray(r)&&(a=l(t,n)),Array.isArray(t)&&Array.isArray(r)?(r.forEach((function(r,a){o.call(t,a)?t[a]&&"object"===typeof t[a]?t[a]=e(t[a],r,n):t.push(r):t[a]=r})),t):Object.keys(r).reduce((function(t,a){var l=r[a];return o.call(t,a)?t[a]=e(t[a],l,n):t[a]=l,t}),a)},s=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},c=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},f=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),r="",o=0;o<t.length;++o){var a=t.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=t.charAt(o):a<128?r+=n[a]:a<2048?r+=n[192|a>>6]+n[128|63&a]:a<55296||a>=57344?r+=n[224|a>>12]+n[128|a>>6&63]+n[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(o)),r+=n[240|a>>18]+n[128|a>>12&63]+n[128|a>>6&63]+n[128|63&a])}return r},p=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var n=t[o],l=n.obj[n.prop],i=Object.keys(l),s=0;s<i.length;++s){var c=i[s],f=l[c];"object"===typeof f&&null!==f&&-1===r.indexOf(f)&&(t.push({obj:l,prop:c}),r.push(f))}return a(t)},u=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},d=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:l,assign:s,compact:p,decode:c,encode:f,isBuffer:d,isRegExp:u,merge:i}},e8b5:function(e,t,r){var o=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},fb6a:function(e,t,r){"use strict";var o=r("23e7"),n=r("e8b5"),a=r("68ee"),l=r("861d"),i=r("23cb"),s=r("07fa"),c=r("fc6a"),f=r("8418"),p=r("b622"),u=r("1dde"),d=u("slice"),m=p("species"),h=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var r,o,p,u=c(this),d=s(u),y=i(e,d),v=i(void 0===t?d:t,d);if(n(u)&&(r=u.constructor,a(r)&&(r===Array||n(r.prototype))?r=void 0:l(r)&&(r=r[m],null===r&&(r=void 0)),r===Array||void 0===r))return h.call(u,y,v);for(o=new(void 0===r?Array:r)(b(v-y,0)),p=0;y<v;y++,p++)y in u&&f(o,p,u[y]);return o.length=p,o}})}}]);