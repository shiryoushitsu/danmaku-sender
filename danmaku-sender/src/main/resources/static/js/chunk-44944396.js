(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44944396"],{"1dde":function(e,t,a){var l=a("d039"),o=a("b622"),r=a("2d00"),n=o("species");e.exports=function(e){return r>=51||!l((function(){var t=[],a=t.constructor={};return a[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4127:function(e,t,a){"use strict";var l=a("d233"),o=a("b313"),r={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},n=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:l.encode,encodeValuesOnly:!1,serializeDate:function(e){return n.call(e)},skipNulls:!1,strictNullHandling:!1},i=function e(t,a,o,r,n,i,c,p,f,m,u,d){var h=t;if("function"===typeof c)h=c(a,h);else if(h instanceof Date)h=m(h);else if(null===h){if(r)return i&&!d?i(a,s.encoder):a;h=""}if("string"===typeof h||"number"===typeof h||"boolean"===typeof h||l.isBuffer(h)){if(i){var b=d?a:i(a,s.encoder);return[u(b)+"="+u(i(h,s.encoder))]}return[u(a)+"="+u(String(h))]}var v,x=[];if("undefined"===typeof h)return x;if(Array.isArray(c))v=c;else{var g=Object.keys(h);v=p?g.sort(p):g}for(var y=0;y<v.length;++y){var w=v[y];n&&null===h[w]||(x=Array.isArray(h)?x.concat(e(h[w],o(a,w),o,r,n,i,c,p,f,m,u,d)):x.concat(e(h[w],a+(f?"."+w:"["+w+"]"),o,r,n,i,c,p,f,m,u,d)))}return x};e.exports=function(e,t){var a=e,n=t?l.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!==typeof n.encoder)throw new TypeError("Encoder has to be a function.");var c="undefined"===typeof n.delimiter?s.delimiter:n.delimiter,p="boolean"===typeof n.strictNullHandling?n.strictNullHandling:s.strictNullHandling,f="boolean"===typeof n.skipNulls?n.skipNulls:s.skipNulls,m="boolean"===typeof n.encode?n.encode:s.encode,u="function"===typeof n.encoder?n.encoder:s.encoder,d="function"===typeof n.sort?n.sort:null,h="undefined"!==typeof n.allowDots&&n.allowDots,b="function"===typeof n.serializeDate?n.serializeDate:s.serializeDate,v="boolean"===typeof n.encodeValuesOnly?n.encodeValuesOnly:s.encodeValuesOnly;if("undefined"===typeof n.format)n.format=o["default"];else if(!Object.prototype.hasOwnProperty.call(o.formatters,n.format))throw new TypeError("Unknown format option provided.");var x,g,y=o.formatters[n.format];"function"===typeof n.filter?(g=n.filter,a=g("",a)):Array.isArray(n.filter)&&(g=n.filter,x=g);var w,k=[];if("object"!==typeof a||null===a)return"";w=n.arrayFormat in r?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var D=r[w];x||(x=Object.keys(a)),d&&x.sort(d);for(var S=0;S<x.length;++S){var z=x[S];f&&null===a[z]||(k=k.concat(i(a[z],z,D,p,f,m?u:null,g,d,h,b,y,v)))}var F=k.join(c),O=!0===n.addQueryPrefix?"?":"";return F.length>0?O+F:""}},4328:function(e,t,a){"use strict";var l=a("4127"),o=a("9e6a"),r=a("b313");e.exports={formats:r,parse:o,stringify:l}},8418:function(e,t,a){"use strict";var l=a("a04b"),o=a("9bf2"),r=a("5c6c");e.exports=function(e,t,a){var n=l(t);n in e?o.f(e,n,r(0,a)):e[n]=a}},"9e6a":function(e,t,a){"use strict";var l=a("d233"),o=Object.prototype.hasOwnProperty,r={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:l.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},n=function(e,t){for(var a={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,n=t.parameterLimit===1/0?void 0:t.parameterLimit,s=l.split(t.delimiter,n),i=0;i<s.length;++i){var c,p,f=s[i],m=f.indexOf("]="),u=-1===m?f.indexOf("="):m+1;-1===u?(c=t.decoder(f,r.decoder),p=t.strictNullHandling?null:""):(c=t.decoder(f.slice(0,u),r.decoder),p=t.decoder(f.slice(u+1),r.decoder)),o.call(a,c)?a[c]=[].concat(a[c]).concat(p):a[c]=p}return a},s=function(e,t,a){for(var l=t,o=e.length-1;o>=0;--o){var r,n=e[o];if("[]"===n)r=[],r=r.concat(l);else{r=a.plainObjects?Object.create(null):{};var s="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,i=parseInt(s,10);!isNaN(i)&&n!==s&&String(i)===s&&i>=0&&a.parseArrays&&i<=a.arrayLimit?(r=[],r[i]=l):r[s]=l}l=r}return l},i=function(e,t,a){if(e){var l=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/,n=/(\[[^[\]]*])/g,i=r.exec(l),c=i?l.slice(0,i.index):l,p=[];if(c){if(!a.plainObjects&&o.call(Object.prototype,c)&&!a.allowPrototypes)return;p.push(c)}var f=0;while(null!==(i=n.exec(l))&&f<a.depth){if(f+=1,!a.plainObjects&&o.call(Object.prototype,i[1].slice(1,-1))&&!a.allowPrototypes)return;p.push(i[1])}return i&&p.push("["+l.slice(i.index)+"]"),s(p,t,a)}};e.exports=function(e,t){var a=t?l.assign({},t):{};if(null!==a.decoder&&void 0!==a.decoder&&"function"!==typeof a.decoder)throw new TypeError("Decoder has to be a function.");if(a.ignoreQueryPrefix=!0===a.ignoreQueryPrefix,a.delimiter="string"===typeof a.delimiter||l.isRegExp(a.delimiter)?a.delimiter:r.delimiter,a.depth="number"===typeof a.depth?a.depth:r.depth,a.arrayLimit="number"===typeof a.arrayLimit?a.arrayLimit:r.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder="function"===typeof a.decoder?a.decoder:r.decoder,a.allowDots="boolean"===typeof a.allowDots?a.allowDots:r.allowDots,a.plainObjects="boolean"===typeof a.plainObjects?a.plainObjects:r.plainObjects,a.allowPrototypes="boolean"===typeof a.allowPrototypes?a.allowPrototypes:r.allowPrototypes,a.parameterLimit="number"===typeof a.parameterLimit?a.parameterLimit:r.parameterLimit,a.strictNullHandling="boolean"===typeof a.strictNullHandling?a.strictNullHandling:r.strictNullHandling,""===e||null===e||"undefined"===typeof e)return a.plainObjects?Object.create(null):{};for(var o="string"===typeof e?n(e,a):e,s=a.plainObjects?Object.create(null):{},c=Object.keys(o),p=0;p<c.length;++p){var f=c[p],m=i(f,o[f],a);s=l.merge(s,m,a)}return l.compact(s)}},b0c0:function(e,t,a){var l=a("83ab"),o=a("5e77").EXISTS,r=a("9bf2").f,n=Function.prototype,s=n.toString,i=/^\s*function ([^ (]*)/,c="name";l&&!o&&r(n,c,{configurable:!0,get:function(){try{return s.call(this).match(i)[1]}catch(e){return""}}})},b313:function(e,t,a){"use strict";var l=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return l.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d15a:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"margin-left":"auto","margin-right":"auto","margin-top":"20px","background-color":"rgb(248, 250, 251)"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticStyle:{width:"600px",float:"right","min-height":"616px"},attrs:{"body-style":"padding-top:5px"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",rules:e.rules,"hide-required-asterisk":!0,"validate-on-rule-change":!1}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"淡入部分",name:"second"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"生存时间",prop:"inDuration","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"",maxlength:"10"},model:{value:e.form.inDuration,callback:function(t){e.$set(e.form,"inDuration",t)},expression:"form.inDuration"}},[a("template",{slot:"append"},[e._v("秒")])],2)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"运动耗时",prop:"inMoveDuration","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"",maxlength:"10"},model:{value:e.form.inMoveDuration,callback:function(t){e.$set(e.form,"inMoveDuration",t)},expression:"form.inMoveDuration"}},[a("template",{slot:"append"},[e._v("毫秒")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"起始x坐标",prop:"inStartX","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"起始x坐标",maxlength:"10"},model:{value:e.form.inStartX,callback:function(t){e.$set(e.form,"inStartX",t)},expression:"form.inStartX"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"起始y坐标",prop:"inStartY","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"起始y坐标",maxlength:"10"},model:{value:e.form.inStartY,callback:function(t){e.$set(e.form,"inStartY",t)},expression:"form.inStartY"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"结束x坐标",prop:"inEndX","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"起始x坐标",maxlength:"10"},model:{value:e.form.inEndX,callback:function(t){e.$set(e.form,"inEndX",t)},expression:"form.inEndX"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"结束y坐标",prop:"inEndY","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"结束y坐标",maxlength:"10"},model:{value:e.form.inEndY,callback:function(t){e.$set(e.form,"inEndY",t)},expression:"form.inEndY"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"透明度变化",prop:"inAlpha","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"格式：百分比-百分比"},model:{value:e.form.inAlpha,callback:function(t){e.$set(e.form,"inAlpha",t)},expression:"form.inAlpha"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.form.inChecked,callback:function(t){e.$set(e.form,"inChecked",t)},expression:"form.inChecked"}},[e._v("是否有淡入段")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"基本配置",name:"first"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"账号缓存值1",prop:"cookie","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"SESSDATA，相当于发送的弹幕的账号"},model:{value:e.form.cookie,callback:function(t){e.$set(e.form,"cookie",t)},expression:"form.cookie"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"视频BV号",prop:"bvid","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入视频BV号",maxlength:"30"},model:{value:e.form.bvid,callback:function(t){e.$set(e.form,"bvid",t)},expression:"form.bvid"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"账号缓存值2",prop:"csrf","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"bili_jct，用于发送接口账号校验"},model:{value:e.form.csrf,callback:function(t){e.$set(e.form,"csrf",t)},expression:"form.csrf"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"分P号",prop:"part","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"默认1，分p时需填要发送弹幕所在的分p号"},model:{value:e.form.part,callback:function(t){e.$set(e.form,"part",t)},expression:"form.part"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"首句时间",prop:"sendFirstDmTime","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"非必填，首句时间，调整时间轴"},model:{value:e.form.sendFirstDmTime,callback:function(t){e.$set(e.form,"sendFirstDmTime",t)},expression:"form.sendFirstDmTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"开始句",prop:"sendStartDmRow","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"配合发送测试弹幕使用，2为发送第二句歌词",maxlength:"30"},model:{value:e.form.sendStartDmRow,callback:function(t){e.$set(e.form,"sendStartDmRow",t)},expression:"form.sendStartDmRow"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"字体",prop:"fontFamily","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"字体",maxlength:"30"},model:{value:e.form.fontFamily,callback:function(t){e.$set(e.form,"fontFamily",t)},expression:"form.fontFamily"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"文字描边",prop:"bord","label-width":"100px"}},[a("el-select",{model:{value:e.form.bord,callback:function(t){e.$set(e.form,"bord",t)},expression:"form.bord"}},[a("el-option",{attrs:{label:"无描边",value:0}}),a("el-option",{attrs:{label:"有描边",value:1}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"字号",prop:"fontSize","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入字号",maxlength:"3"},model:{value:e.form.fontSize,callback:function(t){e.$set(e.form,"fontSize",t)},expression:"form.fontSize"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{size:"small",label:"颜色",prop:"color","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"",maxlength:"30"},model:{value:e.form.color,callback:function(t){e.$set(e.form,"color",t)},expression:"form.color"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-color-picker",{staticStyle:{float:"right"},model:{value:e.hexColor,callback:function(t){e.hexColor=t},expression:"hexColor"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"透明度变化",prop:"alpha","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"格式：百分比-百分比"},model:{value:e.form.alpha,callback:function(t){e.$set(e.form,"alpha",t)},expression:"form.alpha"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"运动耗时",prop:"moveDuration","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"运动耗时",maxlength:"10"},model:{value:e.form.moveDuration,callback:function(t){e.$set(e.form,"moveDuration",t)},expression:"form.moveDuration"}},[a("template",{slot:"append"},[e._v("毫秒")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}}),a("el-col",{attrs:{span:12}})],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"起始x坐标",prop:"startX","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"起始x坐标",maxlength:"10"},model:{value:e.form.startX,callback:function(t){e.$set(e.form,"startX",t)},expression:"form.startX"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"起始y坐标",prop:"startY","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"起始y坐标",maxlength:"10"},model:{value:e.form.startY,callback:function(t){e.$set(e.form,"startY",t)},expression:"form.startY"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"结束x坐标",prop:"endX","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"起始x坐标",maxlength:"10"},model:{value:e.form.endX,callback:function(t){e.$set(e.form,"endX",t)},expression:"form.endX"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"结束y坐标",prop:"endY","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"结束y坐标",maxlength:"10"},model:{value:e.form.endY,callback:function(t){e.$set(e.form,"endY",t)},expression:"form.endY"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"发送模式",prop:"sendMode","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择发送模式"},model:{value:e.form.sendMode,callback:function(t){e.$set(e.form,"sendMode",t)},expression:"form.sendMode"}},[a("el-option",{attrs:{label:"测试发送弹幕(发送前1条)",value:"0"}}),a("el-option",{attrs:{label:"正式发送弹幕",value:"1"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"弹幕池",prop:"pool","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择弹幕池"},model:{value:e.form.pool,callback:function(t){e.$set(e.form,"pool",t)},expression:"form.pool"}},[a("el-option",{attrs:{label:"普通池",value:0}}),a("el-option",{attrs:{label:"字幕池",value:1}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"上传lrc或ass","label-width":"100px"}},[a("input",{attrs:{name:"uploadFile",type:"file",id:"uploadFile"},on:{change:function(t){return e.addFile(t,1)}}})])],1),a("el-col",{attrs:{span:12}})],1),a("el-row",{staticStyle:{"margin-top":"0px"}},[a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.submitPreviewForm()}}},[e._v("预览信息")])],1),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.submitForm()}}},[e._v("发送弹幕")])],1),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.stopSendDanmaku()}}},[e._v("停止发送")])],1),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.submitVideoPreviewForm()}}},[e._v("预览代码")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"淡出部分",name:"third"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"生存时间",prop:"outDuration","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"",maxlength:"10"},model:{value:e.form.outDuration,callback:function(t){e.$set(e.form,"outDuration",t)},expression:"form.outDuration"}},[a("template",{slot:"append"},[e._v("秒")])],2)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"运动耗时",prop:"outMoveDuration","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"",maxlength:"10"},model:{value:e.form.outMoveDuration,callback:function(t){e.$set(e.form,"outMoveDuration",t)},expression:"form.outMoveDuration"}},[a("template",{slot:"append"},[e._v("毫秒")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"起始x坐标",prop:"outStartX","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"起始x坐标",maxlength:"10"},model:{value:e.form.outStartX,callback:function(t){e.$set(e.form,"outStartX",t)},expression:"form.outStartX"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"起始y坐标",prop:"outStartY","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"起始y坐标",maxlength:"10"},model:{value:e.form.outStartY,callback:function(t){e.$set(e.form,"outStartY",t)},expression:"form.outStartY"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"结束x坐标",prop:"outEndX","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"起始x坐标",maxlength:"10"},model:{value:e.form.outEndX,callback:function(t){e.$set(e.form,"outEndX",t)},expression:"form.outEndX"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"结束y坐标",prop:"outEndY","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"结束y坐标",maxlength:"10"},model:{value:e.form.outEndY,callback:function(t){e.$set(e.form,"outEndY",t)},expression:"form.outEndY"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"透明度变化",prop:"outAlpha","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"格式：百分比-百分比"},model:{value:e.form.outAlpha,callback:function(t){e.$set(e.form,"outAlpha",t)},expression:"form.outAlpha"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.form.outChecked,callback:function(t){e.$set(e.form,"outChecked",t)},expression:"form.outChecked"}},[e._v("是否有淡出段")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"更多配置",name:"fourth"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"Z轴旋转",prop:"zRotate","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"Z轴旋转",maxlength:"10"},model:{value:e.form.zRotate,callback:function(t){e.$set(e.form,"zRotate",t)},expression:"form.zRotate"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"Y轴旋转",prop:"yRotate","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"Y轴旋转",maxlength:"10"},model:{value:e.form.yRotate,callback:function(t){e.$set(e.form,"yRotate",t)},expression:"form.yRotate"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"lrc间隙时间",prop:"lrcIntervalTime","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"Lrc歌词用于处理句与句之间间隙时间,250为结尾提前250结束",maxlength:"10"},model:{value:e.form.lrcIntervalTime,callback:function(t){e.$set(e.form,"lrcIntervalTime",t)},expression:"form.lrcIntervalTime"}},[a("template",{slot:"append"},[e._v("毫秒")])],2)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"重叠时间",prop:"overlapTime","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"淡入、中间、淡出弹幕之间重叠时间",maxlength:"10"},model:{value:e.form.overlapTime,callback:function(t){e.$set(e.form,"overlapTime",t)},expression:"form.overlapTime"}},[a("template",{slot:"append"},[e._v("毫秒")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}}),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"small",label:"线性加速",prop:"access","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择弹幕池"},model:{value:e.form.access,callback:function(t){e.$set(e.form,"access",t)},expression:"form.access"}},[a("el-option",{attrs:{label:"无线性加速",value:0}}),a("el-option",{attrs:{label:"有线性加速",value:1}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"middle",label:"发送间隔",prop:"sendInterval","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"发送弹幕间隔时间",maxlength:"30"},model:{value:e.form.sendInterval,callback:function(t){e.$set(e.form,"sendInterval",t)},expression:"form.sendInterval"}},[a("template",{slot:"append"},[e._v("秒")])],2)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"middle",label:"附加时间",prop:"sendRandomTime","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"附加随机时间"},model:{value:e.form.sendRandomTime,callback:function(t){e.$set(e.form,"sendRandomTime",t)},expression:"form.sendRandomTime"}},[a("template",{slot:"append"},[e._v("秒")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"middle",label:"效果模板",prop:"effectValue","label-width":"100px"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:function(t){return e.selectTrigger(e.effectValue)}},model:{value:e.effectValue,callback:function(t){e.effectValue=t},expression:"effectValue"}},e._l(e.effectOptions,(function(e){return a("el-option",{key:e.effectTem,attrs:{label:e.effectTem,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{size:"middle",label:"失败等待",prop:"sendRetryInterval","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"失败等待",maxlength:"30"},model:{value:e.form.sendRetryInterval,callback:function(t){e.$set(e.form,"sendRetryInterval",t)},expression:"form.sendRetryInterval"}},[a("template",{slot:"append"},[e._v("分")])],2)],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"0px"}},[a("el-col",{attrs:{span:5}},[a("el-button",{on:{click:function(t){return e.saveEffectTem()}}},[e._v("保存模板")])],1),a("el-col",{attrs:{span:5}},[a("el-button",{on:{click:function(t){return e.getEffectTem()}}},[e._v("读取模板")])],1)],1)],1)],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticStyle:{width:"600px",float:"left","min-height":"616px"}},[a("span"),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"发送日志显示区域",autosize:{minRows:26,maxRows:26},wrap:"off"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1)],1)],1)],1)},o=[],r=(a("fb6a"),a("b0c0"),a("4328"),{name:"Home",components:{},computed:{hexColor:{get:function(){return!this.form.color.indexOf("#")>=0?"#"+this.form.color:this.form.color},set:function(e){null!=e&&(this.form.color=e.slice(1))}}},created:function(){this.getEffectTem(),this.getConfig()},data:function(){return{value1:"",form:{cookie:null,csrf:null,bvid:null,part:"1",fontSize:22,color:"FFFFFF",zRotate:0,yRotate:0,fontFamily:"黑体",pool:0,mode:7,sendPrefix:null,sendSuffix:null,sendFirstDmTime:"",sendFirstDmOffset:null,sendInterval:"5",sendMode:"1",sendStartDmRow:"1",sendPreview:"1",bord:1,access:0,alpha:"1-1",startX:20,startY:60,endX:25,endY:60,moveDuration:500,inAlpha:"0-1",inDuration:.3,inMoveDuration:300,inStartX:5,inStartY:60,inEndX:20,inEndY:60,inChecked:!0,outAlpha:"1-0",outDuration:.3,outMoveDuration:300,outStartX:25,outStartY:60,outEndX:60,outEndY:60,outChecked:!0,overlapTime:50,outOffset:250,sendRandomTime:0,sendRetryInterval:1,lrcIntervalTime:250,effectTem:null},rules:{},textarea:"",txtFile:null,requestId:"",timerStatus:0,timer:null,uploadName:"请上传lrc或ass文件",activeName:"first",effectOptions:[],effectValue:null}},methods:{submitForm:function(){var e=this;null!=this.txtFile?this.$refs["form"].validate((function(t){if(t){var a=e;e.textarea="";var l=new FormData;for(var o in l.append("file",e.txtFile),e.form)null!=e.form[o]&&l.append(o,e.form[o]);e.createCode(),l.append("requestId",e.requestId);var r={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}};e.axios.post("/danmaku/sendDanmakuM7",l,r).then((function(t){200==t.data.code&&(e.textarea=t.data.data.txtLog,console.log(e.textarea),a.stopSetInterval(),e.timerStatus=0)})).catch((function(e){console.log(e)})),console.log("轮询弹幕日志接口"),e.createSetInterval()}})):this.$message({message:"请先上传文件!",type:"warning"})},submitPreviewForm:function(){var e=this;if(null!=this.txtFile){this.textarea="";var t=new FormData;for(var a in t.append("file",this.txtFile),this.form)null!=this.form[a]&&t.append(a,this.form[a]);t.set("sendMode",-1),this.createCode(),t.append("requestId","p"+this.requestId);var l={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}};this.axios.post("/danmaku/sendDanmakuM7",t,l).then((function(t){200==t.data.code&&(e.textarea=t.data.msg)})).catch((function(e){console.log(e)}))}else this.$message({message:"请先上传文件!",type:"warning"})},submitVideoPreviewForm:function(){var e=this;if(null!=this.txtFile){this.textarea="";var t=new FormData;for(var a in t.append("file",this.txtFile),this.form)null!=this.form[a]&&t.append(a,this.form[a]);t.set("sendMode",-1),this.createCode(),t.append("requestId","p"+this.requestId);var l={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}};this.axios.post("/danmaku/previewDanmakuM7",t,l).then((function(t){200==t.data.code&&(e.textarea=t.data.msg)})).catch((function(e){console.log(e)}))}else this.$message({message:"请先上传文件!",type:"warning"})},getFileLog:function(){var e=this,t=new FormData;t.append("fileName",this.txtFile.name),t.append("requestId",this.requestId);var a={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}};this.axios.post("/danmaku/getFileLog",t,a).then((function(t){200==t.data.code&&(e.textarea=t.data.data.txtLog,t.data.data.txtLog.indexOf("─全部弹幕发送完毕─")>0&&(console.log("关闭轮询"),e.stopSetInterval()))})).catch((function(e){console.log(e)}))},stopSendDanmaku:function(){var e=this;if(""!=this.requestId){var t=new FormData;t.append("fileName",this.txtFile.name),t.append("requestId",this.requestId);var a={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}};this.axios.post("/danmaku/stopSendDanmaku",t,a).then((function(t){200==t.data.code&&(e.textarea=t.data.data.txtLog)})).catch((function(t){e.stopSetInterval(),console.log(t)}))}},createSetInterval:function(){this.stopSetInterval();var e=this;this.timer=setInterval((function(){e.getFileLog()}),5e3)},stopSetInterval:function(){this.timer&&(console.log("关闭查询日志轮训"),clearInterval(this.timer),this.timer=null)},createCode:function(){for(var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t=4,a="",l=0;l<t;l++){var o=Math.floor(26*Math.random());a+=e[o]}var r=(new Date).getHours()<10?"0"+(new Date).getHours():(new Date).getHours(),n=(new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes();a=""+r+n+a,this.requestId=a},addFile:function(e,t){var a=e.target.files[0];this.txtFile=a;var l=new FormData;l.append("file",a,a.name);var o=a.name.substring(a.name.lastIndexOf(".")+1),r="lrc"===o,n="ass"===o,s="m1"===o,i=a.size/1024/1024<10;r||n||s?i||(this.$message({message:"上传文件大小不能 10MB!",type:"warning"}),e.target.value="",this.txtFile=null,this.uploadName="请上传lrc或ass文件"):(this.$message({message:"上传文件只能是 lrc、ass格式!",type:"warning"}),this.txtFile=null,this.uploadName="请上传lrc或ass文件",e.target.value=""),this.uploadName=a.name},handleChangeLi:function(e,t){console.log(e),console.log(t),this.fileListAdd=t},handlePictureCardPreview:function(e){console.log(e)},saveEffectTem:function(){var e=this;this.$prompt("请输入保存模板名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var a=t.value;e.form.effectTem=a,e.axios.post("/danmaku/saveEffectTemM7",e.form).then((function(e){200==e.data.code&&console.log(e.data)})).catch((function(e){console.log(e)})),e.$message({type:"success",message:"保存模板成功"})})).catch((function(){}))},getConfig:function(){var e=this;this.axios.get("/danmaku/getConfig").then((function(t){200==t.data.code&&(e.form.cookie=t.data.data.cookie,e.form.csrf=t.data.data.csrf,console.log(t.data))})).catch((function(e){console.log(e)}))},getEffectTem:function(){var e=this;this.axios.post("/danmaku/getEffectTemM7",this.form).then((function(t){200==t.data.code&&(e.effectOptions=t.data.data,console.log(t.data))})).catch((function(e){console.log(e)}))},selectTrigger:function(e){this.form=Object.assign(this.form,e),console.log(this.form)}},destroyed:function(){this.stopSetInterval()}}),n=r,s=a("2877"),i=Object(s["a"])(n,l,o,!1,null,"62719c12",null);t["default"]=i.exports},d233:function(e,t,a){"use strict";var l=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),r=function(e){var t;while(e.length){var a=e.pop();if(t=a.obj[a.prop],Array.isArray(t)){for(var l=[],o=0;o<t.length;++o)"undefined"!==typeof t[o]&&l.push(t[o]);a.obj[a.prop]=l}}return t},n=function(e,t){for(var a=t&&t.plainObjects?Object.create(null):{},l=0;l<e.length;++l)"undefined"!==typeof e[l]&&(a[l]=e[l]);return a},s=function e(t,a,o){if(!a)return t;if("object"!==typeof a){if(Array.isArray(t))t.push(a);else{if("object"!==typeof t)return[t,a];(o.plainObjects||o.allowPrototypes||!l.call(Object.prototype,a))&&(t[a]=!0)}return t}if("object"!==typeof t)return[t].concat(a);var r=t;return Array.isArray(t)&&!Array.isArray(a)&&(r=n(t,o)),Array.isArray(t)&&Array.isArray(a)?(a.forEach((function(a,r){l.call(t,r)?t[r]&&"object"===typeof t[r]?t[r]=e(t[r],a,o):t.push(a):t[r]=a})),t):Object.keys(a).reduce((function(t,r){var n=a[r];return l.call(t,r)?t[r]=e(t[r],n,o):t[r]=n,t}),r)},i=function(e,t){return Object.keys(t).reduce((function(e,a){return e[a]=t[a],e}),e)},c=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},p=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),a="",l=0;l<t.length;++l){var r=t.charCodeAt(l);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122?a+=t.charAt(l):r<128?a+=o[r]:r<2048?a+=o[192|r>>6]+o[128|63&r]:r<55296||r>=57344?a+=o[224|r>>12]+o[128|r>>6&63]+o[128|63&r]:(l+=1,r=65536+((1023&r)<<10|1023&t.charCodeAt(l)),a+=o[240|r>>18]+o[128|r>>12&63]+o[128|r>>6&63]+o[128|63&r])}return a},f=function(e){for(var t=[{obj:{o:e},prop:"o"}],a=[],l=0;l<t.length;++l)for(var o=t[l],n=o.obj[o.prop],s=Object.keys(n),i=0;i<s.length;++i){var c=s[i],p=n[c];"object"===typeof p&&null!==p&&-1===a.indexOf(p)&&(t.push({obj:n,prop:c}),a.push(p))}return r(t)},m=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},u=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:n,assign:i,compact:f,decode:c,encode:p,isBuffer:u,isRegExp:m,merge:s}},e8b5:function(e,t,a){var l=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==l(e)}},fb6a:function(e,t,a){"use strict";var l=a("23e7"),o=a("e8b5"),r=a("68ee"),n=a("861d"),s=a("23cb"),i=a("07fa"),c=a("fc6a"),p=a("8418"),f=a("b622"),m=a("1dde"),u=m("slice"),d=f("species"),h=[].slice,b=Math.max;l({target:"Array",proto:!0,forced:!u},{slice:function(e,t){var a,l,f,m=c(this),u=i(m),v=s(e,u),x=s(void 0===t?u:t,u);if(o(m)&&(a=m.constructor,r(a)&&(a===Array||o(a.prototype))?a=void 0:n(a)&&(a=a[d],null===a&&(a=void 0)),a===Array||void 0===a))return h.call(m,v,x);for(l=new(void 0===a?Array:a)(b(x-v,0)),f=0;v<x;v++,f++)v in m&&p(l,f,m[v]);return l.length=f,l}})}}]);